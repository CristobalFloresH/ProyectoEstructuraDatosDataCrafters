void modificarDenunciaMenu(struct ministerio *ministerio) {
    char ruc[20];
    char palabras[300];
    int opcion = -1;
    char *nuevaCadena;
    struct denuncia *denunciaMod;

    printf("Ingrese el RUC de la denuncia que desea modificar: ");
    if (fgets(ruc, sizeof(ruc), stdin)) {
        ruc[strcspn(ruc, "\n")] = '\0';  // Quitar salto de línea
    } else {
        printf("Error al leer el RUC.\n");
        return;
    }

    denunciaMod = buscarDenunciaPorRUC(ministerio, ruc);
    if (denunciaMod == NULL) {
        printf("No se encontró una denuncia con el RUC ingresado.\n");
        return;
    }

    while (opcion != 4) {
        printf("\n--- MODIFICAR DENUNCIA ---\n");
        printf("1. Modificar Fecha (Actual: %s)\n", 
               denunciaMod->fecha ? denunciaMod->fecha : "(no asignada)");
        printf("2. Modificar Descripción (Actual: %s)\n", 
               denunciaMod->descripcion ? denunciaMod->descripcion : "(no asignada)");
        printf("3. Modificar Tipo de Denuncia (Actual: %s)\n", 
               denunciaMod->tipoDeDenuncia ? denunciaMod->tipoDeDenuncia : "(no asignada)");
        printf("4. Salir\n");
        printf("Seleccione una opción: ");

        if (scanf("%d", &opcion) != 1) {
            printf("Entrada inválida. Intente de nuevo.\n");
            while (getchar() != '\n'); // Limpiar buffer
            opcion = -1;
            continue;
        }
        while (getchar() != '\n'); // Limpiar salto de línea tras scanf

        switch (opcion) {
            case 1:
                printf("Ingrese nueva fecha: ");
                if (fgets(palabras, sizeof(palabras), stdin)) {
                    removerSaltoLinea(palabras);
                    nuevaCadena = duplicarCadena(palabras);
                    if (nuevaCadena == NULL) {
                        printf("Error al asignar memoria para la fecha.\n");
                        break;
                    }
                    if (denunciaMod->fecha) {
                        free(denunciaMod->fecha);
                    }
                    denunciaMod->fecha = nuevaCadena;
                    printf("Fecha modificada correctamente.\n");
                }
                break;

            case 2:
                printf("Ingrese nueva descripción: ");
                if (fgets(palabras, sizeof(palabras), stdin)) {
                    removerSaltoLinea(palabras);
                    nuevaCadena = duplicarCadena(palabras);
                    if (nuevaCadena == NULL) {
                        printf("Error al asignar memoria para la descripción.\n");
                        break;
                    }
                    if (denunciaMod->descripcion) {
                        free(denunciaMod->descripcion);
                    }
                    denunciaMod->descripcion = nuevaCadena;
                    printf("Descripción modificada correctamente.\n");
                }
                break;

            case 3:
                printf("Ingrese nuevo tipo de denuncia: ");
                if (fgets(palabras, sizeof(palabras), stdin)) {
                    removerSaltoLinea(palabras);
                    nuevaCadena = duplicarCadena(palabras);
                    if (nuevaCadena == NULL) {
                        printf("Error al asignar memoria para el tipo de denuncia.\n");
                        break;
                    }
                    if (denunciaMod->tipoDeDenuncia) {
                        free(denunciaMod->tipoDeDenuncia);
                    }
                    denunciaMod->tipoDeDenuncia = nuevaCadena;
                    printf("Tipo de denuncia modificado correctamente.\n");
                }
                break;

            case 4:
                printf("Saliendo del menú de modificación.\n");
                break;

            default:
                printf("Opción inválida. Intente de nuevo.\n");
                break;
        }
    }
}
