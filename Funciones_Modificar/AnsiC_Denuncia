void modificarDenunciaMenu(struct ministerio *ministerio) {
    char ruc[20];
    char buffer[300];
    int opcion;
    char *nuevaCadena;
    struct denuncia *denunciaMod;

    opcion = -1;
    nuevaCadena = NULL;
    denunciaMod = NULL;

    printf("Ingrese el RUC de la denuncia que desea modificar: ");
    if (fgets(ruc, sizeof(ruc), stdin)) {
        removerSaltoLinea(ruc);
    } else {
        printf("Error al leer el RUC.\n");
        return;
    }

    denunciaMod = buscarDenunciaPorRUC(ministerio, ruc);
    if (denunciaMod == NULL) {
        printf("No se encontró una denuncia con el RUC ingresado.\n");
        return;
    }

    while (opcion != 4) {
        printf("\n--- MODIFICAR DENUNCIA ---\n");
        printf("1. Modificar Fecha (Actual: %s)\n", denunciaMod->fecha);
        printf("2. Modificar Descripción (Actual: %s)\n", denunciaMod->descripcion);
        printf("3. Modificar Tipo de Denuncia (Actual: %s)\n", denunciaMod->tipoDeDenuncia);
        printf("4. Salir\n");
        printf("Seleccione una opción: ");

        if (scanf("%d", &opcion) != 1) {
            printf("Entrada inválida (debe ser un número del 1 al 4). Intente de nuevo.\n");
            while (getchar() != '\n');
            opcion = -1;
            continue;
        }

        while (getchar() != '\n'); // Limpiar el buffer

        switch (opcion) {
            case 1:
                printf("Ingrese nueva fecha (YYY-MM-DD): ");
                if (fgets(buffer, sizeof(buffer), stdin)) {
                    removerSaltoLinea(buffer);
                    nuevaCadena = duplicarCadena(buffer);
                    if (denunciaMod->fecha != NULL) {
                        free(denunciaMod->fecha);
                    }
                    denunciaMod->fecha = nuevaCadena;
                    printf("Fecha modificada correctamente.\n");
                }
                break;

            case 2:
                printf("Ingrese nueva descripción: ");
                if (fgets(buffer, sizeof(buffer), stdin)) {
                    removerSaltoLinea(buffer);
                    nuevaCadena = duplicarCadena(buffer);
                    if (denunciaMod->descripcion != NULL) {
                        free(denunciaMod->descripcion);
                    }
                    denunciaMod->descripcion = nuevaCadena;
                    printf("Descripción modificada correctamente.\n");
                }
                break;

            case 3:
                printf("Ingrese nuevo tipo de denuncia: ");
                if (fgets(buffer, sizeof(buffer), stdin)) {
                    removerSaltoLinea(buffer);
                    nuevaCadena = duplicarCadena(buffer);
                    if (denunciaMod->tipoDeDenuncia != NULL) {
                        free(denunciaMod->tipoDeDenuncia);
                    }
                    denunciaMod->tipoDeDenuncia = nuevaCadena;
                    printf("Tipo de denuncia modificado correctamente.\n");
                }
                break;

            case 4:
                printf("Saliendo del menú de modificación.\n");
                break;

            default:
                printf("Opción inválida. Intente de nuevo.\n");
        }
    }
}

