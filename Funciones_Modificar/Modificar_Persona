void modificarPersona(struct persona *p) { // puntero simple ya que solo necesitamos los datos de cada persona y no cambiar su direccion de memoria 
    int opcion;
    char palabra[300];

    do {
        printf("\n--- Modificar Persona (%s %s) ---\n", p->nombre, p->apellido);
        printf("1. Cambiar nombre\n");
        printf("2. Cambiar apellido\n");
        printf("3. Cambiar contraseña\n");
        printf("4. Cambiar rol (actual: %d)\n", p->rol);
        printf("0. Salir\n");
        printf("Seleccione una opción: ");
        scanf("%d", &opcion);
        getchar(); // limpia salto de línea pendiente

        switch(opcion) {
            case 1:
                printf("Nuevo nombre: ");
                scanf(" %[^\n]", palabra);
                free(p->nombre); // Libera memoria pero no la borra la direccion de memoria
                p->nombre = strdup(palabra); // strdup se encarga de reservar memoria necesaria 
                break;
            case 2:
                printf("Nuevo apellido: ");
                scanf(" %[^\n]", palabra);
                free(p->apellido);
                p->apellido = strdup(palabra);
                break;
            case 3:
                printf("Nueva contraseña: ");
                scanf(" %[^\n]", palabra);
                free(p->contrasena);
                p->contrasena = strdup(palabra);
                break;
            case 4:
                do {
                    printf("Nuevo rol (1 = usuario común, 2 = fiscal, 3 = juez): ");
                    scanf("%d", &p->rol);
                    if (p->rol < 1 || p->rol > 3)
                        printf("Rol inválido. Intente nuevamente.\n");
                } while (p->rol < 1 || p->rol > 3);
                break;
            case 0:
                break;
            default:
                printf("Opción inválida. Intente nuevamente.\n");
        }

    } while (opcion != 0);
}

void modificarDatosPersona(struct ministerio *ministerio) { // puntero simple ya que solo necesitamos ingresar a los datos y modificarlos, no cambiarlos de dirrecion de memoria 
    char rut[100];
    printf("Ingrese RUT de la persona a modificar: ");
    scanf(" %[^\n]", rut);

    struct persona *p = buscarPersonaPorRut(ministerio->personas, rut);
    if (p != NULL)
        modificarPersona(p);
    else
        printf("Persona no encontrada.\n");
}
