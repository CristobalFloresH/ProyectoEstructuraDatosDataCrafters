struct datosDiligencias* buscarDiligenciaPorRUC(struct ministerio *ministerio, const char *ruc) {
    if (ministerio == NULL || ruc == NULL) {
        printf("Error: ministerio o RUC inválido.\n");
        return NULL;
    }

    struct nodoCausas *actualCausa = ministerio->causas;

    if (actualCausa == NULL) {
        return NULL; // No hay causas
    }

    struct nodoCausas *inicio = actualCausa;
    do {
        struct causa *c = actualCausa->datosCausa;
        if (c != NULL && c->datosCarpetas != NULL) {
            struct nodoDatosCarpetas *actualCarpeta = c->datosCarpetas;
            while (actualCarpeta != NULL) {
                struct datosCarpeta *carpeta = actualCarpeta->datosCarpeta;
                if (carpeta != NULL && carpeta->tipoDeDato == 3 && carpeta->datosDiligencias != NULL) {
                    // Asumimos que la diligencia tiene su propio RUC
                    if (carpeta->datosDiligencias->descripcion != NULL && strcmp(carpeta->datosDiligencias->descripcion, ruc) == 0) {
                        return carpeta->datosDiligencias;
                    }
                }
                actualCarpeta = actualCarpeta->siguiente;
            }
        }

        actualCausa = actualCausa->siguiente;
    } while (actualCausa != inicio);

    return NULL; // No se encontró diligencia con ese RUC
}
